# Todo-Rest API

**Todo-Rest API** — это серверное приложение для управления задачами с использованием Go. Оно предоставляет REST API для создания, редактирования и удаления задач. Приложение поддерживает аутентификацию с использованием JWT-токенов, а также хранит данные задач в SQLite базе данных.

## Описание
Данное приложение представляет собой API для системы управления задачами, которое позволяет пользователям создавать задачи с указанием сроков, описания и повторяющихся событий. Также реализован механизм аутентификации и авторизации на основе токенов.

## Функциональные возможности:
 - Создание, редактирование и удаление задач
 - Поддержка повторяющихся задач
 - Аутентификация с использованием JWT
 - Хранение данных в базе данных SQLite
 - Валидация данных на уровне API
 - Поддержка переменных окружения для конфигурации
## Технологии
 - Go 1.23.2
 - SQLite для хранения данных
 - Chi для роутинга
 - Docker для контейнеризации
 - Buildx и GitHub Actions для CI/CD
 - JWT для аутентификации
 - Окружение для разработки: WSL/Ubuntu

## Установка и запуск

### Локальная установка
Для установки и запуска приложения на локальной машине, следуйте инструкциям ниже:

1. Склонируйте репозиторий:

```bash
git clone https://github.com/denisushakov/todo-rest.git
```

2. Перейдите в папку проекта:

```bash
cd todo-rest
```

3. Установите зависимости:

```bash
go mod download
```

4. Запустите приложение:

```bash
go run ./cmd/scheduler/main.go
```

### Запуск в Docker
Для запуска приложения в контейнере Docker, выполните следующие шаги:

1. Соберите Docker-образ:

```bash
docker build -t todo-rest .
```

2. Запустите контейнер:

```bash
docker run -d -p 7540:7540 --name todo-rest todo-rest
```

### Переменные окружения
Приложение использует следующие переменные окружения для конфигурации:

 - TODO_PORT — порт, на котором работает сервер (по умолчанию: 7540)
 - TODO_DBFILE — путь к файлу базы данных SQLite (по умолчанию: ./storage/scheduler.db)
 - TODO_PASSWORD — пароль для аутентификации
Вы можете изменить их, добавив файл .env в корень проекта.

## Пример использования API

1. Создание задачи

Запрос:

```bash
POST /api/task
Content-Type: application/json

{
  "title": "Новая задача",
  "description": "Описание задачи",
  "date": "2024-12-01",
  "repeat": "d 5"
}
```

Ответ:

```bash
{
  "id": "1",
  "title": "Новая задача",
  "description": "Описание задачи",
  "date": "2024-12-01",
  "repeat": "d 5"
}
```

2. Получение задачи

Запрос:

```bash
GET /api/task?id=1
```

Ответ:

```bash
{
  "id": "1",
  "title": "Новая задача",
  "description": "Описание задачи",
  "date": "2024-12-01",
  "repeat": "d 5"
}
```

## Тестирование

Для запуска тестов выполните команду:

```bash
go test ./tests
```

Вы также можете запустить тесты в Docker-контейнере:

```bash
docker run --rm todo-rest go test ./tests
```

## Лицензия
Данный проект лицензируется под лицензией MIT. См. файл LICENSE для получения подробной информации.